<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>数组</title>
    <script>
      // 创建数组对象
      var arr = new Array()

      arr[0] = 10
      arr[1] = 22
      arr[2] = 33

      console.log(arr[2])

      // 输出数组的长度
      console.log('数组长度为：' + arr.length)

      // 使用字面量来创建数组
      var arr2 = []
      // 使用字面量来创建数组数组时，可以在创建时候就指定数组中的元素
      var arr2 = [1, 2, 4, 6, 7]
      console.log(arr2[3])

      // 创建一个数组，数组中只有一个元素10
      // arr = [10];

      // 创建一个长度为10的数组
      // arr = new Array(10);

      // 数组中的元素可以是任意的数据类型
      // arr = ["hello", 1, true ]

      // 数组中的元素也可以是对象
      var obj = { name: '齐天大圣' }
      arr3 = [obj]
      console.log(arr3)

      /* 
            push()
            该方法可以向数组的末尾添加一个或多个元素，并返回数组的新的长度
            可以添加多个
        */

      arr3.push('小猴1', '小猴2')

      /* 
            pop()
            该方法可以删除  数组的最后一个元素
        */

      arr3.pop()

      /* 
            unshift()
            向数组开头添加一个或多个元素，并返回新的数组长度
        */

      arr3.unshift('大闹天宫')

      /* 
            shift()
            删除数组的第一个元素
        
        */

      /*
            遍历数组
            foreach()方法需要一个函数作为参数
            像这种函数，由我们创建但不是由我们调用的，我们称为回调函数
            数组中有几个元素函数就会执行几次，每次执行的时候，浏览器会将遍历到的元素
                以实参的形式传递进来，我们可以来定义形参，来读取这些内容
            浏览器会在回调函数中传递三个参数：value 、 index 、array
            第一个参数就是当前正在遍历的元素
         */

      arr3.forEach(function (value, index, array) {
        console.log('遍历输出：' + value)
      })

      /* 
            slice()
            可以用来从数组提取指定元素，也就是从已有的数组中返回选定的元素
            arrayObject.slice(start,end); //需要两个参数，截取开始的位置(包含开始索引)，截取结束的位置（不包含结束索引）
            索引可以传递一个负值
        */

      /* 
            splice()
            可以用于删除数组中的指定元素
            使用splice()会影响到原数组，会将指定元素从原数组中删除
            并将删除的元素作为返回值返回

            参数：第一个，表示开始位置的索引
                 第二个, 表示删除的数量
                 第三个及以后，可以传递一些新的元素，这些元素将会自动插入到开始位置索引的前边
         */
      var result = arr3.slice(0, 2)
      console.log('slice()截取后的数组输出： ' + result)

      var result = arr3.splice(0, 1)
      console.log('splice()删除后的结果输出： ' + result)
      console.log('删除过元素后的arr3[]: ' + arr3)

      /* 
            concat()可以连接两个或多个数组，并将新的数组返回
            该方法不会对原数组产生影响
        */
      var concat_result = arr.concat(arr2)
      console.log('arr和arr2合并后的数组：' + concat_result)

      /* 
            join()
            该方法可以将数组转换为一个字符串, 不会对原数组产生影响
            在join()中可以指定一个字符串作为参数，这个字符串将会成为数组中元素的连接符
            如果不指定连接符，则默认使用逗号,作为连接符
        */

      var join_result = concat_result.join('---')
      console.log(typeof join_result)
      console.log(join_result)

      /* 
            reverse()
            反转数组
        */

      var reverse_result = concat_result.reverse()
      console.log(reverse_result)

      /* 
            sort()
            排序数组
            会影响原数组，默认按照Unicode编码进行排序，数字也是从小到大排列
            对于数字进行排序的时候，可能会得到错误的结果
        */

      arr2.sort()
      console.log('排序后的' + arr2)

      /* 
            对于sort()我们可以自己来指定排序的规则  
            我们可以在sort()添加一个回调函数，来指定排序规则：
                回调函数中需要定义两个形参
                浏览器将会分别使用数组中的元素作为实参去调用回调函数
                使用哪个元素调用不确定，但是肯定的是在数组a一定在b前边

                浏览器会根据回调函数的返回值来决定元素的顺序
                如果返回一个大于0的值，则元素会交换位置
         */

      arr4 = [5, 4, 6, 8, 7]
      arr4.sort(function (a, b) {
        console.log('arr4数组如下：')
        console.log('a = ' + a)
        console.log('b = ' + b)
        // console.log("c = " +c);

        // 升序排序
        return a - b

        // 降序排序
        // return b-a;
      })

      console.log('排序后的arr4: ' + arr4)

      function C(a) {
        console.log('元素C')
        if (a) {
          this.a = a
          console.log('啦啦  ' + this.a)
        }
      }
      C.prototype.a = 1
      console.log(C.prototype)
    </script>
  </head>
  <body></body>
</html>
