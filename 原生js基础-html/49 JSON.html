<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JSON</title>
    <script>
      /*
            JSON - JavaScript Object Notation JS对象表示法
            JS中的对象只有JS自己认识，其他语言都不认识
            JSON就是一个特殊格式的字符串，这个字符串可以被任意的语言所识别
            并且转换成任意语言对象，JSON在开发中主要用来做数据的交互
                - JSON和JS对象的格式一样，只不过JSON字符串中的属性名必须加双引号
                - 单引号不行，属性名只能加双引号
                - 其他的和JS语法一致

            JSON分类：
                1、对象{}
                2、数组[]

            JSON中允许的值:
                1、字符串
                2、数值
                3、布尔值
                4、null
                5、对象 （undefined是不允许的！！）
                6、数组
        */
      //创建一个对象, 下面几个都是JSON对象
      var obj = '{"name":"pika", "age":"20", "gender":"男"}'

      var arr = '[1, 2, 3, "hello", "happy", "yes"]'

      var obj2 = '{"arr":[1, 2, 3]}'

      var arr2 =
        '[{"name":"pika", "age":"20", "gender":"男"}, {"name":"pika", "age":"20", "gender":"男"}]'

      /*
            将JSON字符串转换为JS中的对象
            在JS中，为我们提供了一个工具类，就叫做JSON
            这个工具类可以帮助我们将一个JSON转换为JS对象，也可以将一个JS对象转换为JSON
        */
      /*
            json --> js对象
            JSON.parse()
                -可以将一个JSON字符串转换为JS对象
                - 需要一个JSON字符串作为参数，会将该字符串转换为JS对象并返回
        */
      var json = '{"name":"pika", "age":"20", "gender":"男"}'
      var o1 = JSON.parse(json) //把JSON转换为对象
      console.log(o1.name) //可以获取对象属性

      var o2 = JSON.parse(arr)
      console.log(o2[1])

      /*
            JS对象 ---> JSON
            JSON.stringify()
                可以将一个JS对象转换为JSON字符串
                需要一个js对象作为参数，会返回一个JSON字符串
         */

      var str = JSON.stringify(o2) //把对象o2转换为字符串
      console.log(str)
      /*
            JSON在IE7及以下的浏览器中不支持，所以在这些浏览器中调用时会报错
            如果需要兼容IE7及以下的JSON操作，则可以通过引入一个外部的js文件来处理
         */
    </script>
  </head>
  <body></body>
</html>
